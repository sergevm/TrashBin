@model TrashBin.Mvc.Models.ProjectListViewModel

@{
    ViewBag.Title = "Projects";
}

<table class="table table-striped">
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th></th>
    </tr>
    @foreach (var project in Model.Projects)
    {
        <tr>
            <td>@project.Name</td>
            <td>@project.Description</td>
            <td>@Html.ActionLink("Delete", "Delete", new{ id = @project.Id })</td>
        </tr>
    }
</table>

@Html.ActionLink("Add Project", "Create", null, new { @class = "ui-button"})

@section scripts
{
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-1.1.3.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs" type="text/javascript"></script>

    <script type="text/javascript">
        $(function() {
            var hub = $.connection.asyncWorkNotificationHub;

            hub.client.notify = function (id) {
                alert(id);
            };
            
            $.connection.hub.start();
        });
    </script>
}
